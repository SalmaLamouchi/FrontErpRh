<div class="edit-conge-container">
  <mat-card>
    <mat-card-title>Ajouter une Fiche de Paie</mat-card-title>
    <mat-card-content>
      <form #paieForm="ngForm" (ngSubmit)="onSubmit()" novalidate>

        <mat-form-field appearance="fill" class="full-width">
          <mat-label>Personnel ID</mat-label>
          <input matInput type="number" [(ngModel)]="paie.personnelId" name="personnelId" required min="1" aria-describedby="personnelIdError" #personnelId="ngModel" placeholder="Ex : 123" />
          <mat-error *ngIf="personnelId.invalid && personnelId.touched" id="personnelIdError">
            Veuillez saisir un Personnel ID valide.
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="fill" class="full-width">
          <mat-label>Mois payé</mat-label>
          <input matInput type="month" [(ngModel)]="moisPayeString" name="moisPaye" required (change)="onMoisChange()" aria-describedby="moisPayeError" #moisPaye="ngModel" placeholder="YYYY-MM" />
          <mat-error *ngIf="moisPaye.invalid && moisPaye.touched" id="moisPayeError">
            Veuillez choisir un mois valide.
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="fill" class="full-width">
          <mat-label>Montant (Salaire Net)</mat-label>
          <input matInput type="number" [(ngModel)]="paie.montant" name="montant" required min="0" aria-describedby="montantError" #montant="ngModel" placeholder="Ex : 1500" />
          <mat-error *ngIf="montant.invalid && montant.touched" id="montantError">
            Veuillez saisir un montant positif.
          </mat-error>
        </mat-form-field>

        <mat-form-field appearance="fill" class="full-width">
          <mat-label>Statut</mat-label>
          <input matInput [(ngModel)]="paie.statut" name="statut" required minlength="2" aria-describedby="statutError" #statut="ngModel" placeholder="Ex : Payé, En attente" />
          <mat-error *ngIf="statut.invalid && statut.touched" id="statutError">
            Veuillez saisir un statut valide (au moins 2 caractères).
          </mat-error>
        </mat-form-field>

        <div class="btn-group">
          <button mat-raised-button color="primary" type="submit" [disabled]="paieForm.invalid">Ajouter</button>
          <button mat-button color="warn" routerLink="/paie" type="button">Annuler</button>
        </div>

      </form>
    </mat-card-content>
  </mat-card>
</div>
